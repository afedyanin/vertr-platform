@page "/intraday"

@using Vertr.MarketData.Contracts

<h3>Intraday</h3>

<FluentSelect TOption="Instrument"
              Items="@_instruments"
              OptionValue="@(p => p.Id.ToString())"
              OptionText="@(p => $"{p.Symbol.ClassCode}.{p.Symbol.Ticker} ({p.Name})")"
              SelectedOptionChanged="OnSelectedOptionChanged"/>


<div style="height: 1000px; max-width: 1000px; overflow-y: scroll;">
    <FluentDataGrid @ref=_dataGrid
                    TGridItem=Candle
                    Items="@_candles"
                    Virtualize="true"
                    ShowHover=true
                    Style="width: 100%;"
                    GenerateHeader="@GenerateHeaderOption.Sticky"
                    DisplayMode="DataGridDisplayMode.Table"
                    RowSize="@DataGridRowSize.Small">
        <PropertyColumn Property="@(p => p.TimeUtc)" Sortable="true" />
        <PropertyColumn Property="@(p => p.Open)" Sortable="true" />
        <PropertyColumn Property="@(p => p.High)" Sortable="true" />
        <PropertyColumn Property="@(p => p.Low)" Sortable="true" />
        <PropertyColumn Property="@(p => p.Close)" Sortable="true" />
        <PropertyColumn Property="@(p => p.Volume)" Sortable="true" />
    </FluentDataGrid>
</div>
